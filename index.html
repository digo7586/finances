<!DOCTYPE html>
<html lang="pt-BR" data-theme="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dashboard Financeiro Pessoal</title>
  <link rel="stylesheet" href="style.css" />

  <!-- Chart.js + plugin para porcentagens -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2"></script>
</head>
<body>
  <header class="topbar">
    <h1>Minhas Finan√ßas</h1>
    <button id="theme-toggle" aria-label="Alternar tema">
      üåô
    </button>
  </header>

  <main class="container">
    <!-- CARDS RESUMO -->
    <section class="summary">
      <div class="card income">
        <h2>Receitas</h2>
        <p id="total-income">R$ 0,00</p>
      </div>
      <div class="card fixed">
        <h2>Despesas Fixas</h2>
        <p id="total-fixed">R$ 0,00</p>
      </div>
      <div class="card variable">
        <h2>Despesas Vari√°veis</h2>
        <p id="total-variable">R$ 0,00</p>
      </div>
      <div class="card extra">
        <h2>Renda Extra</h2>
        <p id="total-extra">R$ 0,00</p>
      </div>
      <div class="card saldo">
        <h2>Saldo</h2>
        <p id="balance">R$ 0,00</p>
      </div>
    </section>
    <section class="summary-text">
  <p id="summary-text-main">
    Comece adicionando suas receitas e despesas para ver um resumo do m√™s.
  </p>
</section>


    
   <!-- METAS (accordion) -->
<section class="goals-section">
  <details open>
    <summary>Metas</summary>

    <form id="goal-form">
      <input type="text" id="goal-name" placeholder="Nome da meta" required>
      <input type="number" id="goal-target" step="0.01" placeholder="Valor alvo" required>
      <input type="number" id="goal-initial" step="0.01" placeholder="Valor inicial (opcional)">
      <button type="submit">Criar meta</button>
    </form>

    <div id="goals-list"></div>
  </details>
</section>

<!-- FORMUL√ÅRIO (accordion) -->
<section class="goals-section">
  <details open>
    <summary>Novo lan√ßamento</summary>

    <form id="transaction-form">
      <input type="date" id="date" required />
      <input type="text" id="description" placeholder="Descri√ß√£o" required />
      <input type="number" id="amount" step="0.01" placeholder="Valor" required />

      <select id="type" required>
        <option value="">Tipo</option>
        <option value="income">Receita</option>
        <option value="fixed">Despesa fixa</option>
        <option value="variable">Despesa vari√°vel</option>
        <option value="extra">Renda extra</option>
      </select>

      <select id="category-select" required>
        <option value="">Categoria</option>
        <option value="Sal√°rio">Sal√°rio</option>
        <option value="Aluguel">Aluguel</option>
        <option value="Mercado">Mercado</option>
        <option value="Carro">Carro</option>
        <option value="Lazer">Lazer</option>
        <option value="Sa√∫de">Sa√∫de</option>
        <option value="Educa√ß√£o">Educa√ß√£o</option>
        <option value="Contas">Contas (Luz, √Ågua, Internet)</option>
        <option value="Cartao">Cart√£o</option>
        <option value="Outro">Outro</option>
      </select>

      <input
        type="text"
        id="category-other"
        placeholder="Outra categoria (Ex: Presentes, Pets)"
        style="display:none;"
      >

      <button type="submit">Adicionar</button>
    </form>
  </details>
</section>


    <!-- FILTRO DE M√äS -->
    <section class="filters">
      <h3>Selecione um m√™s</h3>
      <div class="filters-row">
        <label for="month-filter">M√™s:</label>
        <input type="month" id="month-filter" />
        <button id="clear-month" type="button">Limpar filtro</button>
      </div>
    </section>

    <!-- ENTRADAS -->
    <section class="transactions-section">
      <h3>Entradas</h3>
      <table>
        <thead>
          <tr>
            <th data-sort="date">Data ‚ñ≤‚ñº</th>
            <th data-sort="description">Descri√ß√£o ‚ñ≤‚ñº</th>
            <th data-sort="type">Tipo ‚ñ≤‚ñº</th>
            <th data-sort="category">Categoria ‚ñ≤‚ñº</th>
            <th data-sort="amount">Valor ‚ñ≤‚ñº</th>
            <th></th>
          </tr>
        </thead>
        <tbody id="transactions-income"></tbody>
        <tfoot>
      <tr>
        <td colspan="4"><strong>Total</strong></td>
        <td id="total-income-table"><strong>R$ 0,00</strong></td>
        <td></td>
      </tr>
    </tfoot>
      </table>
      <div class="pagination" id="pagination-income">
        <button data-role="prev">¬´</button>
        <span data-role="info"></span>
        <button data-role="next">¬ª</button>
      </div>
    </section>

    <!-- DESPESAS FIXAS -->
    <section class="transactions-section">
      <h3>Despesas Fixas</h3>
      <table>
        <thead>
          <tr>
            <th data-sort="date">Data ‚ñ≤‚ñº</th>
            <th data-sort="description">Descri√ß√£o ‚ñ≤‚ñº</th>
            <th data-sort="type">Tipo ‚ñ≤‚ñº</th>
            <th data-sort="category">Categoria ‚ñ≤‚ñº</th>
            <th data-sort="amount">Valor ‚ñ≤‚ñº</th>
            <th></th>
          </tr>
        </thead>
        <tbody id="transactions-fixed"></tbody>
         <tfoot>
      <tr>
        <td colspan="4"><strong>Total:</strong></td>
        <td id="total-fixed-table"><strong>R$ 0,00</strong></td>
        <td></td>
      </tr>
    </tfoot>
      </table>
      <div class="pagination" id="pagination-fixed">
        <button data-role="prev">¬´</button>
        <span data-role="info"></span>
        <button data-role="next">¬ª</button>
      </div>
    </section>

    <!-- DESPESAS VARI√ÅVEIS -->
    <section class="transactions-section">
      <h3>Despesas Vari√°veis</h3>
      <table>
        <thead>
          <tr>
            <th data-sort="date">Data ‚ñ≤‚ñº</th>
            <th data-sort="description">Descri√ß√£o ‚ñ≤‚ñº</th>
            <th data-sort="type">Tipo ‚ñ≤‚ñº</th>
            <th data-sort="category">Categoria ‚ñ≤‚ñº</th>
            <th data-sort="amount">Valor ‚ñ≤‚ñº</th>
            <th></th>
          </tr>
        </thead>
        <tbody id="transactions-variable"></tbody>
          <tfoot>
      <tr>
        <td colspan="4"><strong>Total:</strong></td>
        <td id="total-variable-table"><strong>R$ 0,00</strong></td>
        <td></td>
      </tr>
    </tfoot>
      </table>
      <div class="pagination" id="pagination-variable">
        <button data-role="prev">¬´</button>
        <span data-role="info"></span>
        <button data-role="next">¬ª</button>
      </div>
    </section>

    <!-- GR√ÅFICOS -->
    <section class="charts">
      <div class="chart-card">
        <h2>Despesas por categoria</h2>
        <canvas id="categoryChart"></canvas>
      </div>
      <div class="chart-card">
        <h2 id="month-chart-title">Receitas x Despesas (m√™s)</h2>
        <canvas id="monthChart"></canvas>
      </div>
    </section>
  </main>

  <footer class="finance-footer">
    <p>&copy; Desenvolvido por DomingosTech&Code 2026</p>
  </footer>

  <script src="logica/core.js"></script>
  <script src="logica/ui-transactions.js"></script>
  <script src="logica/ui-goals.js"></script>
  <script src="logica/charts.js"></script>
  <script src="logica/events.js"></script>

</body>
</html>
